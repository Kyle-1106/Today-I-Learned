- [目的](#目的)
- [共通](#共通)
  - [体裁面](#体裁面)
  - [命名規則](#命名規則)
    - [体裁が整っているか、規約に反していないか](#体裁が整っているか規約に反していないか)
    - [より良い名前はないか](#より良い名前はないか)
  - [漏れなどの確認](#漏れなどの確認)
- [定数](#定数)
- [クラス](#クラス)
- [メソッド](#メソッド)
  - [共通](#共通-1)
  - [引数](#引数)
  - [戻り値](#戻り値)
  - [条件分岐](#条件分岐)
  - [コレクション](#コレクション)
- [ファイル](#ファイル)
- [テスト](#テスト)
- [コメント](#コメント)
- [セキュリティ](#セキュリティ)
- [パフォーマンス](#パフォーマンス)
- [参考資料](#参考資料)

# 目的

ここでは自分がコードレビューを依頼する際にチェックするべきこと、レビューする際にチェックするべきことが体系化されていないので、チェックリストを作成することを目的とする。

# 共通

- [ ]  仕様書通りに実装できているか

## 体裁面

- [ ]  警告やエラーが出ていないか
- [ ]  デバッグ用のコードはないか
- [ ]  インデントがずれていないか
- [ ]  フォーマッターを実行したか

## 命名規則

### 体裁が整っているか、規約に反していないか

- [ ]  スペルは正しいか
- [ ]  ファイル名はコーディング規則に従った形になっているか
- [ ]  インデントは整っているか

### より良い名前はないか

- [ ]  具体的で意味範囲の狭い名前か
- [ ]  限定的なスコープ以外でtmp,result などの汎用的な命名をしていないか
- [ ]  名前から予想される処理と実際の処理が異なっていないか
- [ ]  データクラスを~Infoとか~Dataとしていないか
- [ ]  略語の使用は適切か、必要以上に省略していないか

## 漏れなどの確認

- [ ]  横展開されていることが反映されているか
- [ ]  すでに存在する共通処理を自分で実装していないか
- [ ]  エッジケースや例外的なシナリオが考慮されているか

# 定数

- [ ]  マジックナンバーが書かれていないか
- [ ]  定数とグローバル変数以外でfinalを使っていないか

# クラス

- [ ]  コンストラクタで初期化されているか
- [ ]  不要な値はガード節で取り除いているか
- [ ]  データクラスと処理ロジックを同じクラスに記述して高凝集にしているか
- [ ]  単一責任原則を守っているか
- [ ]  継承と委譲を使い分けているか
- [ ]  例外を握りつぶしていないか
- [ ]  他のクラスと疎結合になっているか

# メソッド

## 共通

- [ ]  関数内で早めに処理が抜けられるものはreturnで適切にガード節が作られているか
- [ ]  ひとつの関数・メソッドが大きすぎないか
- [ ]  変数が適切なスコープで宣言されているか
- [ ]  ひとつの関数が複数のタスクを処理していないか
- [ ]  関数名を逸脱した複数のタスクがひとつの関数に書かれていないか
- [ ]  インスタンス変数や引数は不変になっているか
- [ ]  コマンドとクエリは分離されているか
- [ ]  行数が長すぎないか（30行以内）
- [ ]  標準APIではできない処理か
- [ ]  重い処理では計算量を考慮した実装ができているか

## 引数

- [ ]  引数にnullを渡していないか
- [ ]  フラグ引数を使っていないか
- [ ]  プリミティブ型以外を渡すことでができないか
- [ ]  引数の数が多すぎないか（4つ以下が理想的）

## 戻り値

- [ ]  nullを返していないか
- [ ]  プリミティブ型以外を返すことでができないか

## 条件分岐

- [ ]  早期リターンをしているか
- [ ]  ガード節を有効に使えているか
- [ ]  複雑な分岐の場合はinterfaceの利用を考慮しているか
- [ ]  三項演算子によってコードが理解しづらいものになっていないか
- [ ]  switch文やif-elseの連鎖が長すぎないか

## コレクション

- [ ]  自前のコレクション処理を実装していないか、標準APIで同じ処理ができないか
- [ ]  配列以外にもタプル、ハッシュ（ディクショナリ）など、他のデータ型を検討したか
- [ ]  コレクションの操作は効率的か

# ファイル

- [ ]  絶対パスが使われていないか
- [ ]  ファイルはクローズされているか

# テスト

- [ ]  境界値のテストが含まれているか
- [ ]  エッジケースのテストが含まれているか
- [ ]  テストの記述は明確で理解しやすいか
- [ ]  テストコードの結果は正常か
- [ ]  テストコードはわかりやすいものか
- [ ]  モックを使いすぎていないか

# コメント

- [ ]  コメントはコードの意図を明確に説明しているか
- [ ]  複雑なロジックには適切な説明が付けられているか
- [ ]  コードから読み取れる事をコメントにそのまま書いていないか
- [ ]  定数にはコメントが書かれているか

# セキュリティ

- [ ]  センシティブな情報（パスワード、APIキーなど）がハードコードされていないか
- [ ]  入力値のバリデーションが適切に行われているか
- [ ]  SQLインジェクションやXSSなどの脆弱性がないか
- [ ]  出力値は正しいエンコード処理がされているか
- [ ]  プログラムが利用するアカウントの権限は適切か

# パフォーマンス

- [ ]  不必要なループや処理がないか
- [ ]  大量のデータを扱う場合、メモリ使用量は適切か
- [ ]  データベースクエリは最適化されているか
- [ ]  N+1を発生させる実装はないか

# 参考資料

[良いコード／悪いコードで学ぶ設計入門 ―保守しやすい 成長し続けるコードの書き方](https://gihyo.jp/book/2022/978-4-297-12783-1)

[コードレビュー チェックリスト - Qiita](https://qiita.com/yuyakato/items/f3f22f5ec366a650aa51)

[プログラマー歴20数年の私が考えた、コードレビュー依頼前のセルフチェックリスト - Qiita](https://qiita.com/y-some/items/d9bd43d683e429fb3afb)

[コードレビューチェックリスト - doc.dev1x.org](http://doc.dev1x.org/sweng/10/)

[ソースコードレビューのポイント](https://gist.github.com/s-yoshiki/9e446d69cf388703a4711f7e69cba173)